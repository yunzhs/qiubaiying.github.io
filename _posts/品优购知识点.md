---
typora-root-url: ..
typora-copy-images-to: ..\img\posts
---



{{entity.itemList}}的结构

```
[{
	"options": [{"id":98,"optionName":"移动3G","orders":1,"specId":27}, {}, {}, {}, {}, {}, {}],
	"id": 27,
	"text": "网络"
}, {
	"options": [{}, {}, {}, {}],
	"id": 32,
	"text": "机身内存"
}]
```



## 电商概念SPU与SKU

- SPU = Standard Product Unit （标准产品单位）

SPU是商品信息聚合的最小单位，是一组可复用、易检索的标准化信息的集合，该集合描述了一个产品的特性。
通俗点讲，属性值、特性相同的商品就可以称为一个SPU。

例如：
iphone7就是一个SPU，与商家，与颜色、款式、套餐都无关。



- SKU=stock keeping unit(库存量单位)

SKU即库存进出计量的单位， 可以是以件、盒、托盘等为单位。
SKU是物理上不可分割的最小存货单元。在使用时要根据不同业态，不同管理模式来处理。在服装、鞋类商品中使用最多最普遍。

例如：
纺织品中一个SKU通常表示：规格、颜色、款式。





JS的深度克隆:

是通过这样下列的代码来实现对象之间的引用消除,如果不消除,在其中一个对象改变时,另一个对象就会发生改变
```
var newRow= JSON.parse( JSON.stringify( oldRow )  );//深克隆
//JSON.stringify()将对象转换为文本
```

另外,Json赋给js的变量会自动变为一个对象变量



## SpringSecurity 

获取当前用户的登陆名

```
SecurityContextHolder.getContext().getAuthentication().getName();
```





### 品优购表结构

基础表 数据字典

- tb_brand 品牌表
  - tb_specification产品规格表
- tb_specification_option 规格设置表
- tb_type_template 产品模板表
- tb_item_cat  分类表

商品表

- tb_goods  SPU标准产品单位表
- tb_goods_desc 对SPU的补充
- tb_item  SKU库存量单位表

商家表

- tb_seller	 商家信息表










```
    $scope.findItemCatList=function(){
        itemCatService.findAll().success(
            function(response){
                for(var i=0;i<response.length;i++){
                    $scope.itemCatList[response[i].id]=response[i].name;
            }
            }// itemCatMapper.selectByExample(null);在imp中执行的sql语句
        );
    }
```

在数据库的表中删除数据后,~~相应数据仍会在表中占位,在mybatis的select中~~, 数据库中删除数据后,response的长度不会发生改变,猜测可能是与mybatis的封装有关,或者是数据库的条件有关?



idea中抽取方法:shift+alt +m再选中正确的方法域即可



![Snipaste_2018-01-18_17-47-53](C:/Users/hasee/Pictures/Snipaste_2018-01-18_17-47-53.png)







archetypeCatalog表示插件使用的archetype元数据，不加这个参数时默认为remote，local，即中央仓库archetype元数据，由于中央仓库的archetype太多了，所以导致很慢，指定internal来表示仅使用内部元数据。![Snipaste_2018-01-18_18-01-07](C:/Users/hasee/Pictures/Snipaste_2018-01-18_18-01-07.png)



idea里spring的配置文件貌似也是得相互依赖才能使用



这不写超时就直接给我报错了,我也是醉了

![Snipaste_2018-01-21_23-29-33](/img/posts/Snipaste_2018-01-21_23-29-33.png)



map.putAll(map1) ==> 将一个map集合添加到另一个map集合中



### 一个java的基本思想,切记

```
TbItem item = h.getEntity();//获取原实体类
```

在这里item得到的是一个地址,而不是其他实际内容,因此修改它就可以直接修改原来的值,原理与js中的为什么要深度克隆类似